<%- include('../partials/header', { title: 'Events' }) %>

<div class="wrapper">
  <form method="GET" action="/events" class="search-form">
    <input type="text" name="search" placeholder="Search events..." value="<%= typeof search !== 'undefined' ? search : '' %>" autocomplete="off">
    <button type="submit">Search</button>
  </form>
  <h1>Upcoming Events</h1>
<div class="container">

  <% if (events && events.length > 0) { %>
    <% events.forEach(event => { %>
      <a href="<%= event.link %>" class="event-card">
        <div class="image-wrapper">
          <img src="<%= event.image %>" alt="<%= event.title %> image">
        </div>
        <div class="details">
          <h2><%= event.title %></h2>
          <div class="meta">
            <p><%= event.location %></p>
            <p><%= event.date %></p>
          </div>
        </div>
      </a>
    <% }) %>
  <% } else { %>
    <p class="no-events">No '<%= search %>' events were found.</p>
  <% } %>
</div>

<%- include('../partials/footer') %>
</div>